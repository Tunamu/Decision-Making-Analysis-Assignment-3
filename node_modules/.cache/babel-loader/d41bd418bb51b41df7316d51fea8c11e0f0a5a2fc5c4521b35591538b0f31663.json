{"ast":null,"code":"import _uniqueId from \"lodash/uniqueId\";\nimport _defaults from \"lodash/defaults\";\nimport React, { useState } from \"react\";\nimport * as Log from \"../victory-util/log\";\nimport * as Helpers from \"../victory-util/helpers\";\nimport { usePortalContext } from \"./portal-context\";\nconst defaultProps = {\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null)\n};\nexport const VictoryPortal = initialProps => {\n  const props = {\n    ...defaultProps,\n    ...initialProps\n  };\n  const [id] = useState(_uniqueId());\n  const portalContext = usePortalContext();\n  if (!portalContext) {\n    const msg = \"`renderInPortal` is not supported outside of `VictoryContainer`. \" + \"Component will be rendered in place\";\n    Log.warn(msg);\n  }\n  const children = Array.isArray(props.children) ? props.children[0] : props.children;\n  const {\n    groupComponent\n  } = props;\n  const childProps = children && children.props || {};\n  const standardProps = childProps.groupComponent ? {\n    groupComponent,\n    standalone: false\n  } : {};\n  const newProps = _defaults(standardProps, childProps, Helpers.omit(props, [\"children\", \"groupComponent\"]), {\n    key: childProps.key ?? id\n  });\n  const child = children && /*#__PURE__*/React.cloneElement(children, newProps);\n  React.useEffect(() => {\n    portalContext?.addChild(id, child);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.children]);\n  React.useEffect(() => {\n    return () => portalContext?.removeChild(id);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return portalContext ? null : child;\n};\nVictoryPortal.role = \"portal\";","map":{"version":3,"names":["_uniqueId","_defaults","React","useState","Log","Helpers","usePortalContext","defaultProps","groupComponent","createElement","VictoryPortal","initialProps","props","id","portalContext","msg","warn","children","Array","isArray","childProps","standardProps","standalone","newProps","omit","key","child","cloneElement","useEffect","addChild","removeChild","role"],"sources":["/Users/munatus/dev/react/node_modules/victory-core/es/victory-portal/victory-portal.js"],"sourcesContent":["import _uniqueId from \"lodash/uniqueId\";\nimport _defaults from \"lodash/defaults\";\nimport React, { useState } from \"react\";\nimport * as Log from \"../victory-util/log\";\nimport * as Helpers from \"../victory-util/helpers\";\nimport { usePortalContext } from \"./portal-context\";\nconst defaultProps = {\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null)\n};\nexport const VictoryPortal = initialProps => {\n  const props = {\n    ...defaultProps,\n    ...initialProps\n  };\n  const [id] = useState(_uniqueId());\n  const portalContext = usePortalContext();\n  if (!portalContext) {\n    const msg = \"`renderInPortal` is not supported outside of `VictoryContainer`. \" + \"Component will be rendered in place\";\n    Log.warn(msg);\n  }\n  const children = Array.isArray(props.children) ? props.children[0] : props.children;\n  const {\n    groupComponent\n  } = props;\n  const childProps = children && children.props || {};\n  const standardProps = childProps.groupComponent ? {\n    groupComponent,\n    standalone: false\n  } : {};\n  const newProps = _defaults(standardProps, childProps, Helpers.omit(props, [\"children\", \"groupComponent\"]), {\n    key: childProps.key ?? id\n  });\n  const child = children && /*#__PURE__*/React.cloneElement(children, newProps);\n  React.useEffect(() => {\n    portalContext?.addChild(id, child);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.children]);\n  React.useEffect(() => {\n    return () => portalContext?.removeChild(id);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return portalContext ? null : child;\n};\nVictoryPortal.role = \"portal\";"],"mappings":"AAAA,OAAOA,SAAS,MAAM,iBAAiB;AACvC,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,KAAKC,GAAG,MAAM,qBAAqB;AAC1C,OAAO,KAAKC,OAAO,MAAM,yBAAyB;AAClD,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,MAAMC,YAAY,GAAG;EACnBC,cAAc,EAAE,aAAaN,KAAK,CAACO,aAAa,CAAC,GAAG,EAAE,IAAI;AAC5D,CAAC;AACD,OAAO,MAAMC,aAAa,GAAGC,YAAY,IAAI;EAC3C,MAAMC,KAAK,GAAG;IACZ,GAAGL,YAAY;IACf,GAAGI;EACL,CAAC;EACD,MAAM,CAACE,EAAE,CAAC,GAAGV,QAAQ,CAACH,SAAS,CAAC,CAAC,CAAC;EAClC,MAAMc,aAAa,GAAGR,gBAAgB,CAAC,CAAC;EACxC,IAAI,CAACQ,aAAa,EAAE;IAClB,MAAMC,GAAG,GAAG,mEAAmE,GAAG,qCAAqC;IACvHX,GAAG,CAACY,IAAI,CAACD,GAAG,CAAC;EACf;EACA,MAAME,QAAQ,GAAGC,KAAK,CAACC,OAAO,CAACP,KAAK,CAACK,QAAQ,CAAC,GAAGL,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,GAAGL,KAAK,CAACK,QAAQ;EACnF,MAAM;IACJT;EACF,CAAC,GAAGI,KAAK;EACT,MAAMQ,UAAU,GAAGH,QAAQ,IAAIA,QAAQ,CAACL,KAAK,IAAI,CAAC,CAAC;EACnD,MAAMS,aAAa,GAAGD,UAAU,CAACZ,cAAc,GAAG;IAChDA,cAAc;IACdc,UAAU,EAAE;EACd,CAAC,GAAG,CAAC,CAAC;EACN,MAAMC,QAAQ,GAAGtB,SAAS,CAACoB,aAAa,EAAED,UAAU,EAAEf,OAAO,CAACmB,IAAI,CAACZ,KAAK,EAAE,CAAC,UAAU,EAAE,gBAAgB,CAAC,CAAC,EAAE;IACzGa,GAAG,EAAEL,UAAU,CAACK,GAAG,IAAIZ;EACzB,CAAC,CAAC;EACF,MAAMa,KAAK,GAAGT,QAAQ,IAAI,aAAaf,KAAK,CAACyB,YAAY,CAACV,QAAQ,EAAEM,QAAQ,CAAC;EAC7ErB,KAAK,CAAC0B,SAAS,CAAC,MAAM;IACpBd,aAAa,EAAEe,QAAQ,CAAChB,EAAE,EAAEa,KAAK,CAAC;IAClC;EACF,CAAC,EAAE,CAACd,KAAK,CAACK,QAAQ,CAAC,CAAC;EACpBf,KAAK,CAAC0B,SAAS,CAAC,MAAM;IACpB,OAAO,MAAMd,aAAa,EAAEgB,WAAW,CAACjB,EAAE,CAAC;IAC3C;EACF,CAAC,EAAE,EAAE,CAAC;EACN,OAAOC,aAAa,GAAG,IAAI,GAAGY,KAAK;AACrC,CAAC;AACDhB,aAAa,CAACqB,IAAI,GAAG,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}